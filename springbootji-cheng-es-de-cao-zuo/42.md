1.添加POM依赖
pom.xml

```
<dependency>
            <groupId>org.elasticsearch</groupId>
            <artifactId>elasticsearch</artifactId>
            <version>6.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.elasticsearch.plugin</groupId>
            <artifactId>transport-netty4-client</artifactId>
            <version>6.2.2</version>
        </dependency>
        <dependency>
            <groupId>org.elasticsearch.client</groupId>
            <artifactId>transport</artifactId>
            <version>6.2.2</version>
            <exclusions>
                <exclusion>
                    <groupId>org.elasticsearch.plugin</groupId>
                    <artifactId>transport-netty4-client</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.springframework.data</groupId>
            <artifactId>spring-data-commons</artifactId>
            <version>2.1.0.BUILD-SNAPSHOT</version>
        </dependency>
        <!--用来替换spring-data-elasticsearch中的jar-->
        <dependency>
            <groupId>org.springframework.data</groupId>
            <artifactId>spring-data-elasticsearch</artifactId>
            <version>3.1.0.BUILD-SNAPSHOT</version>
        </dependency>
```

Bean实体的配置注解


以CargoBean为例
1.加这个注解，在项目启动时会自动创建index和type
@Document(indexName = "oms_tf_b_cargo", type = "tf_b_cargo")
2.加入此注解使这个字段使用IK分词器
@Field(type = FieldType.Text, searchAnalyzer = "ik_max_word", analyzer = "ik_max_word")
3.在时间类型加入这个注解，可以使时间格式化
@Field(type=FieldType.Date,format = DateFormat.custom, pattern = "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis")
@JsonFormat(pattern="yyyy-MM-dd HH:mm:ss",timezone = "GMT+8")
4.其他字段可以加@Field，如果不加会交给ES自己识别处理

```
@Document(indexName = "oms_tf_b_cargo", type = "tf_b_cargo")
public class CargoBean implements Serializable {
    /**
     * @Fields tf_b_cargo.CARGO_ID :货物ID
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long cargoId;

    /**
     * @Fields tf_b_cargo.ORDER_ID :订单ID
     */
    private Long orderId;

    /**
     * @Fields tf_b_cargo.CARGO_NAME :货物名称
     */
    @Field(type = FieldType.Text, searchAnalyzer = "ik_max_word", analyzer = "ik_max_word")
    private String cargoName;
        @Field(type=FieldType.Date,format = DateFormat.custom, pattern = "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis")
    @JsonFormat(pattern="yyyy-MM-dd HH:mm:ss",timezone = "GMT+8")
    private Date createdTime;
}
```
